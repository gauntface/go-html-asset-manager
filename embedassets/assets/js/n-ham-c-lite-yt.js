var n=class{constructor(e){this.element=e,this.anchor=e.querySelector(`${n.selector()}__link`);let t=e.getAttribute("videoid");if(!t)throw new Error("Failed to get the 'videoid' attribute.");let r=e.getAttribute("videoparams");if(!r)throw new Error("Failed to get the 'videoparams' attribute.");this.videoID=encodeURIComponent(t),this.videoParams=r,this.preconnected=!1,this.setup()}setup(){this.anchor.addEventListener("pointerover",()=>this.warmConnections(),{once:!0}),this.anchor.addEventListener("click",e=>{e.preventDefault(),this.addIframe()})}addIframe(){let e=["autoplay=1"];this.videoParams&&e.push(this.videoParams);let t=`<iframe allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen src="https://www.youtube-nocookie.com/embed/${this.videoID}?${e.join("&")}" style="width:100%;height:100%;border:none;"></iframe>`;this.element.removeChild(this.anchor),this.element.insertAdjacentHTML("beforeend",t),this.element.classList.add(`${n.classname()}--activated`)}addPrefetch(e,t,r){let i=document.createElement("link");i.rel=e,i.href=t,r&&(i.as=r),i.crossOrigin="",document.head.append(i)}warmConnections(){this.preconnected||(this.preconnected=!0,this.addPrefetch("preconnect","https://www.youtube-nocookie.com"),this.addPrefetch("preconnect","https://www.google.com"))}static classname(){return"n-ham-c-lite-yt"}static selector(){return`.${n.classname()}`}};(function(){function o(){let e=document.querySelectorAll(n.selector());for(let t of e)new n(t)}window.addEventListener("load",o),document.readyState=="complete"&&o()})();
